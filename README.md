# 测试用天气API
## 1.介绍
1.目前支持广东省内地级市的天气预报查询，包括实时天气气温、最高最低温度、风力，感冒等指数。 <br />
2.两天(今天、明天)天气、风力、最低最高温度等。 <br />
3.更新频率为一天三次，仅用于交流学习，请求频率最高5次/秒。<br />
4.支持城市列表如下：<br />
```json
{
    "省": "广东",
        "市": [
            {
                "市名": "广州",
                "编码": "101280101"
            },
            {
                "市名": "惠州",
                "编码": "101280301"
            },
            {
                "市名": "梅州",
                "编码": "101280401"
            },
            {
                "市名": "汕头",
                "编码": "101280501"
            },
            {
                "市名": "深圳",
                "编码": "101280601"
            },
            {
                "市名": "珠海",
                "编码": "101280701"
            },
            {
                "市名": "佛山",
                "编码": "101280800"
            },
            {
                "市名": "肇庆",
                "编码": "101280901"
            },
            {
                "市名": "湛江",
                "编码": "101281001"
            },
            {
                "市名": "江门",
                "编码": "101281101"
            },
            {
                "市名": "河源",
                "编码": "101281201"
            },
            {
                "市名": "清远",
                "编码": "101281301"
            },
            {
                "市名": "云浮",
                "编码": "101281401"
            },
            {
                "市名": "潮州",
                "编码": "101281501"
            },
            {
                "市名": "东莞",
                "编码": "101281601"
            },
            {
                "市名": "中山",
                "编码": "101281701"
            },
            {
                "市名": "阳江",
                "编码": "101281801"
            },
            {
                "市名": "揭阳",
                "编码": "101281901"
            },
            {
                "市名": "茂名",
                "编码": "101282001"
            },
            {
                "市名": "汕尾",
                "编码": "101282101"
            },
            {
                "市名": "韶关",
                "编码": "101280201"
            }
        ]
}
```

## 2.用法及详细内容

调用地址：<https://www.baidu.com>

请求方式：GET

返回类型：JSON

### 2.1请求参数

| 字段  | 数据类型  | 是否为空  | 描述  |
| ------------ | ------------ | ------------ | ------------ |
| appkey  | string  | 必填  | 分配给用户的身份验证码  |
| city  | string  | 必填  | 查询城市名字，需urlencode  |
| citycode  | int  | (暂未开放)  | 城市编码(暂未开放)  |

### 2.2请求示例(PHP)　

```php
<?php
    $url = "http://localhost";
    $ch = curl_init ();
    curl_setopt ( $ch, CURLOPT_URL, $url );
    curl_setopt ( $ch, CURLOPT_RETURNTRANSFER, 1 );
    //curl_setopt ( $ch, CURLOPT_CONNECTTIMEOUT, 10 );
    //curl_setopt ( $ch, CURLOPT_POST, 1 );
    curl_setopt ( $ch, CURLOPT_ENCODING, "gzip");
    $weather_messages = curl_exec ( $ch );
    var_dump(curl_exec($curl));
	
```

### 2.3接口返回示例(JSON)　

```json
{
    "Code": "200", 
    "Message": "OK", 
    "Data": {
        "city": "广州", 
        "temperature": "27", 
        "tips": "各项气象条件适宜，发生感冒机率较低。但请避免长期处于空调房间中，以防感冒。", 
        "low_temp_today": "低温 25℃", 
        "high_temp_today": "高温 31℃", 
        "type_today": "小雨", 
        "wind_direction_today": "西南风", 
        "wind_power_today": "3-4级", 
        "low_temp_tomorrow": "低温 24℃", 
        "high_temp_tomorrow": "高温 29℃", 
        "type_tomorrow": "中雨", 
        "wind_direction_tomorrow": "无持续风向", 
        "wind_power_tomorrow": "微风级", 
        "update_time": "2017-06-01 07:00:20"
    }
}
```

### 2.4接口返回示例(JSON)　

```json
{
    "Code": "401", 
    "Message": "appkey or keyvalue missed", 
    "Data": ""
}
```
#### 错误代码及原因
|  code |  原因 |
| ------------ | ------------ |
|  200 |  成功 |
|  401 |  appkey或者查询值缺失 |
|  402 |  appkey不正确 |
|  403 |  访问过于频繁 |
|  404 |  查询不到相关结果 |


### 如有问题可发邮件到下面邮箱
www&#64;qq.com
